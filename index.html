<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>File List</title>
</head>
<body>
    <h1>File List</h1>
    <form action="http://localhost:4221/list-files" method="post">
        <input type="submit" value="List Files">
    </form>
    <div id="fileList"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelector("form").addEventListener("submit", function(event) {
                event.preventDefault();
                fetch("/list-files")
                    .then(response => response.json())
                    .then(data => {
    const fileListElement = document.getElementById("fileList");
    let fileListHTML = "<ul>";
    data.forEach(file => {
        fileListHTML += `<li><a href="/downloaded/${file.name}">${file.name}</a> - ${file.size} - ${file.uploaded}</li>`;
    });
    fileListHTML += "</ul>";
    fileListElement.innerHTML = fileListHTML;
})

                    .catch(error => {
                        console.error("Error fetching file list:", error);
                    });
            });
        });
    </script>
</body>
</html>